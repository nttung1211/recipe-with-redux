(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{CXQP:function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),r=i("3Pt+"),s=i("tyNb"),c=i("fXoL"),o=i("MJzj"),d=i("ceC1");class b{constructor(e,t){this.name=e,this.amount=t}}const l=["form"],u=["nameEle"];function a(e,t){1&e&&(c.Mb(0,"small",16),c.ic(1," Please enter ingredient name "),c.Lb())}function g(e,t){1&e&&(c.Mb(0,"small",16),c.ic(1," Invalid "),c.Lb())}function m(e,t){if(1&e){const e=c.Nb();c.Mb(0,"button",17),c.Ub("click",(function(){return c.ec(e),c.Wb().onDelete()})),c.ic(1," Delete "),c.Lb()}}let h=(()=>{class e{constructor(e){this.ingredientService=e}ngOnInit(){this.editModeSwitchedSubscription=this.ingredientService.editModeSwitched.subscribe(()=>{this.editMode=this.ingredientService.isInEditMode()}),this.ingredientEditedSubscription=this.ingredientService.ingredientEdited.subscribe(e=>{this.ingredientIndex=e,this.edittedIngredient=this.ingredientService.getIngredient(e),this.form.form.patchValue({name:this.edittedIngredient.name,amount:this.edittedIngredient.amount}),this.ingredientService.turnOnEditMode(),this.nameEle.nativeElement.select()})}ngOnDestroy(){this.editModeSwitchedSubscription.unsubscribe(),this.ingredientEditedSubscription.unsubscribe()}onSubmit(){let e=new b(this.form.value.name,this.form.value.amount);this.form.invalid||(this.editMode?this.ingredientService.update(this.ingredientIndex,e):this.ingredientService.add(e),this.resetFields())}onDelete(){this.ingredientService.delete(this.ingredientIndex),this.resetFields()}onClear(){this.resetFields()}resetFields(){this.form.resetForm({amount:1}),this.nameEle.nativeElement.focus(),this.ingredientService.turnOffEditMode()}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(o.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-shopping-edit"]],viewQuery:function(e,t){var i;1&e&&(c.mc(l,!0),c.mc(u,!0)),2&e&&(c.bc(i=c.Vb())&&(t.form=i.first),c.bc(i=c.Vb())&&(t.nameEle=i.first))},decls:25,vars:6,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["form","ngForm"],[1,"col-sm-5"],["for","name"],["type","text","id","name","autocomplete","off","name","name","ngModel","","required","",1,"form-control"],["inpName","ngModel","nameEle",""],["class","err",4,"ngIf"],[1,"col-sm-2"],["for","amount"],["type","number","id","amount","name","amount","pattern","^[1-9][0-9]*$",1,"form-control",3,"ngModel"],["inpAmount","ngModel"],[1,"btn","btn-success"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"err"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e&&(c.Mb(0,"div",0),c.Mb(1,"div",1),c.Mb(2,"form",2,3),c.Ub("ngSubmit",(function(){return t.onSubmit()})),c.Mb(4,"div",0),c.Mb(5,"div",4),c.Mb(6,"label",5),c.ic(7,"Name"),c.Lb(),c.Kb(8,"input",6,7),c.hc(11,a,2,0,"small",8),c.Lb(),c.Mb(12,"div",9),c.Mb(13,"label",10),c.ic(14,"Amount"),c.Lb(),c.Kb(15,"input",11,12),c.hc(17,g,2,0,"small",8),c.Lb(),c.Lb(),c.Mb(18,"div",0),c.Mb(19,"div",1),c.Mb(20,"button",13),c.ic(21),c.Lb(),c.hc(22,m,2,0,"button",14),c.Mb(23,"button",15),c.Ub("click",(function(){return t.onClear()})),c.ic(24),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e){const e=c.cc(3),i=c.cc(9),n=c.cc(16);c.zb(11),c.Xb("ngIf",i.invalid&&e.submitted),c.zb(4),c.Xb("ngModel",1),c.zb(2),c.Xb("ngIf",n.invalid&&!n.pristine),c.zb(4),c.jc(t.ingredientService.isInEditMode()?"Update":"Add"),c.zb(1),c.Xb("ngIf",t.ingredientService.isInEditMode()),c.zb(2),c.kc(" ",t.ingredientService.isInEditMode()?"Cancel":"Clear"," ")}},directives:[r.s,r.k,r.l,r.a,r.j,r.m,r.q,n.j,r.n,r.o],styles:["[_nghost-%COMP%]{--err:#f55}.btn[_ngcontent-%COMP%]{margin:10px 3px;width:80px}.err[_ngcontent-%COMP%]{color:var(--err)}"]}),e})();function p(e,t){if(1&e){const e=c.Nb();c.Mb(0,"a",4),c.Ub("click",(function(){c.ec(e);const i=t.index;return c.Wb().onEditIngredient(i)})),c.ic(1),c.Lb()}if(2&e){const e=t.$implicit;c.zb(1),c.lc(" ",e.name," (",e.amount,") ")}}const f=[{path:"",component:(()=>{class e{constructor(e,t){this.ingredientService=e,this.recipeService=t}ngOnInit(){this.ingredients=this.ingredientService.getIngredients(),this.subscription=this.ingredientService.ingredientsChanged.subscribe(()=>{this.ingredients=this.ingredientService.getIngredients()})}onEditIngredient(e){this.ingredientService.ingredientEdited.next(e)}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(o.a),c.Jb(d.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","title","Click to edit this ingredident","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["title","Click to edit this ingredident",1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(c.Mb(0,"div",0),c.Mb(1,"div",1),c.Kb(2,"app-shopping-edit"),c.Kb(3,"hr"),c.Mb(4,"ul",2),c.hc(5,p,2,2,"a",3),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.zb(5),c.Xb("ngForOf",t.ingredients))},directives:[h,n.i],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(f)],s.g]}),e})();i.d(t,"ShoppingListModule",(function(){return M}));let M=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[n.b,r.i,r.p,v]]}),e})()}}]);